# ResponseWrapperLib

Проект стартера для Spring Boot. Включает конфигурацию стартера, аннотации включения и выключения оборачивания, 
саму настройку оборачивания ответов контроллеорв на уровне DispatcherServlet.

## Использование:
### Подключить к проекту:
```java
implementation 'ru.emilnasyrov.lib:response-wrapper-starter:0.0.1-SNAPSHOT'
```

Сам файл поместить в папку `libs` в корне проекта и в buildGradle указать
```java
repositories {
    mavenCentral()
    flatDir {
        dirs 'libs'
    }
}
```

### Использование в проекте:
Необходимо создать класс, реализующий IWrapperModel - это класс обертки. 
И класс, реализующий IWrapperService - это класс сервиса, которые передает данные в обертку.

С помощью методов ``Object getData(Object body)``, ``setData(Object object)``, ``setBody(Object object)`` - можно гибко настроить заполнения обертки. 
Передавайте из сервиса в обертку необходимые классы данных и парсите их так, как вам захочется

Над контроллером вместо аннотации ``@RestController`` необходимо повесить аннотацию ``@EnableResponseWrapper``, 
которая автоматически включит функцию обертки ответов ваших точек входа

Для того чтобы для кого-то метода отключить функцию обертки и отдавать то, что отдает метод контроллера - 
повесьте над методом аннотацию ``DisableResponseWrapper``

Если метод контроллера возвращает коллекцию (например, ``List<MyObject>``), то в ответе каждый будет обернут в ``MyObject`` 
(то есть вернется ``List<IWrapperModel>``)

## Про проект
Проет написан на ``java 11`` с использованием системы сборки ``Gradle``

## Для разработчиков
Для сборки jar файла использовать команду:
```yaml
gradle jar
```
jar файл стартера появится в папке `/build/libs`

В проекте, к которому подключается стартер, поместить jar можно в папку `/src` в корне проекта

Для того, чтобы IntelliJ IDEA подгрузила себе все зависимости — выполните следующие команды
```yaml
gradle :clean
gradle build
```



